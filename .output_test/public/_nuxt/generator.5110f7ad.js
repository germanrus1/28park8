import{a as _,o as l,b as d,e as a,j as y,f as m,F as f,r as k,t as C,i as b,k as S,c as O,w as g,v,l as F,p as z,h as I}from"./entry.31175190.js";import{_ as x}from"./customButton.e743fb08.js";const W={name:"buttonCircle",props:{icon:{type:String},classes:{type:String}}};function E(s,e,t,r,i,n){return l(),d("div",{class:y(["button circle",t.classes])},[a("div",{class:y(["icon",t.icon])},null,2),a("div",{class:y(["text",t.icon])},null,2)],2)}const B=_(W,[["render",E],["__scopeId","data-v-6c37c245"]]);const $={name:"dropdownDescription",components:{CustomButton:x},props:{text:{type:String},options:{type:Array},closeOnOutsideClick:{type:Boolean}},data(){return{active:!1,textModel:""}},methods:{toggle(){this.active=!this.active}}},L={class:"content-textarea"},R={class:"list scroll-content"},V=["onClick"],P={class:"button-content"};function H(s,e,t,r,i,n){const o=x;return l(),d(f,null,[m(o,{text:t.text,class:"zi-800",onClick:n.toggle},null,8,["text","onClick"]),a("div",{class:y(["content-dropdown zi-700",i.active?"isActive":""])},[a("div",L,[a("div",R,[(l(!0),d(f,null,k(t.options,c=>(l(),d("div",{class:"item",onClick:h=>this.$emit("selectDescription",c.name)},C(c.name),9,V))),256))]),a("div",P,[m(o,{text:"Без текста",classes:"blue",onClick:e[0]||(e[0]=c=>this.$emit("clearDescription"))})])])],2)],64)}const D=_($,[["render",H],["__scopeId","data-v-20b8a33e"]]);const N={name:"dropdownTextarea",components:{CustomButton:x},props:{text:{type:String}},data(){return{active:!1,textModel:""}},methods:{toggle(){this.active=!this.active}}},U={class:"button-content"},A={class:"stickers scroll-content horizontal"},j=["id","src","alt","onClick"];function X(s,e,t,r,i,n){const o=x;return l(),d(f,null,[m(o,{text:t.text,class:"zi-600",onClick:n.toggle},null,8,["text","onClick"]),a("div",{class:y(["content-dropdown zi-500",i.active?"isActive":""])},[a("div",U,[m(o,{text:"Без наклейки",classes:"blue",onClick:e[0]||(e[0]=c=>this.$emit("clearSticker"))})]),a("div",A,[(l(),d(f,null,k(13,c=>a("img",{id:"sticker-"+(c-1),src:"/stickers/sticker-"+(c-1)+".png",alt:"/stickers/sticker-"+(c-1)+".png",onClick:h=>this.$emit("drawSticker","sticker-"+(c-1))},null,8,j)),64))])],2)],64)}const M=_(N,[["render",X],["__scopeId","data-v-4cecbfa7"]]);const q={data(){return{selectedOption:{name:""},showMenu:!1,placeholderText:"Please select an item"}},props:{options:{type:[Array,Object]},selected:{},placeholder:[String],closeOnOutsideClick:{type:[Boolean],default:!0}},mounted(){this.selectedOption=this.selected,this.placeholder&&(this.placeholderText=this.placeholder),this.closeOnOutsideClick&&document.addEventListener("click",this.clickHandler)},beforeDestroy(){document.removeEventListener("click",this.clickHandler)},methods:{updateOption(s){this.selectedOption=s,this.showMenu=!1,this.$emit("updateOption",this.selectedOption)},toggleMenu(){this.showMenu=!this.showMenu},clickHandler(s){const{target:e}=s,{$el:t}=this;t.contains(e)||(this.showMenu=!1)}}},J={class:"btn-group"},K=a("span",{class:"caret"},null,-1),Q=a("span",{class:"caret"},null,-1),Y={key:2,class:"dropdown-menu"},Z=["onClick"];function ee(s,e,t,r,i,n){return l(),d("div",J,[i.selectedOption.name!==void 0?(l(),d("li",{key:0,onClick:e[0]||(e[0]=o=>n.toggleMenu()),class:"dropdown-toggle"},[b(C(t.selected)+" ",1),K])):S("",!0),i.selectedOption.name===void 0?(l(),d("li",{key:1,onClick:e[1]||(e[1]=o=>n.toggleMenu()),class:"dropdown-toggle dropdown-toggle-placeholder"},[b(C(i.placeholderText)+" ",1),Q])):S("",!0),i.showMenu?(l(),d("ul",Y,[(l(!0),d(f,null,k(t.options,(o,c)=>(l(),d("li",{key:c},[a("a",{href:"javascript:void(0)",onClick:h=>n.updateOption(o)},C(o.name),9,Z)]))),128))])):S("",!0)])}const T=_(q,[["render",ee]]);const te={name:"customDropdown",components:{dropdown:T},props:{options:{type:[Array,Object]},selected:{},placeholder:[String],closeOnOutsideClick:{type:[Boolean],default:!0},who:{type:String}},methods:{onSelected(s){this.$emit("drawText",this.options[s.id].name,this.who)},prepareText(s){let e=[];return s.forEach(function(t){e.push({name:t.name.split("@").join(" "),id:t.id})}),e}}};function ne(s,e,t,r,i,n){const o=T;return l(),O(o,{class:"my-dropdown-toggle",options:n.prepareText(t.options),selected:t.selected,onUpdateOption:n.onSelected,placeholder:t.placeholder,closeOnOutsideClick:t.closeOnOutsideClick},null,8,["options","selected","onUpdateOption","placeholder","closeOnOutsideClick"])}const G=_(te,[["render",ne],["__scopeId","data-v-dbbbde9a"]]);const oe={name:"dropdownTextarea",components:{CustomButton:x},props:{text:{type:String}},data(){return{active:!1,textModel:""}},methods:{toggle(){this.active=!this.active}}},se={class:"content-textarea"},ie={class:"button-content"};function ae(s,e,t,r,i,n){const o=x;return l(),d(f,null,[m(o,{text:t.text,class:"zi-800",onClick:n.toggle},null,8,["text","onClick"]),a("div",{class:y(["content-dropdown zi-700",i.active?"isActive":""])},[a("div",se,[g(a("textarea",{"onUpdate:modelValue":e[0]||(e[0]=c=>i.textModel=c),onChange:e[1]||(e[1]=c=>this.$emit("drawDescription",i.textModel))},null,544),[[v,i.textModel]]),a("div",ie,[m(o,{text:"Без текста",classes:"blue",onClick:e[2]||(e[2]=c=>this.$emit("clearDescription"))})])])],2)],64)}const ce=_(oe,[["render",ae],["__scopeId","data-v-18822841"]]);const re={name:"devRanger",data(){return{xModel:300,yModel:300,fontSizeModel:26}},methods:{changeCoordinates(){this.$emit("textPosition","description",this.xModel,this.yModel,this.fontSizeModel)}},mounted(){this.changeCoordinates()}},le={class:"range"},de={class:"range"},me={class:"range"};function he(s,e,t,r,i,n){return l(),d("div",null,[a("div",le,[g(a("input",{type:"range",min:0,max:600,step:"4","onUpdate:modelValue":e[0]||(e[0]=o=>i.xModel=o),onChange:e[1]||(e[1]=(...o)=>n.changeCoordinates&&n.changeCoordinates(...o))},null,544),[[v,i.xModel]]),g(a("input",{class:"numbers","onUpdate:modelValue":e[2]||(e[2]=o=>i.xModel=o),onChange:e[3]||(e[3]=(...o)=>n.changeCoordinates&&n.changeCoordinates(...o))},null,544),[[v,i.xModel]])]),a("div",de,[g(a("input",{type:"range",min:0,max:600,step:"4","onUpdate:modelValue":e[4]||(e[4]=o=>i.yModel=o),onChange:e[5]||(e[5]=(...o)=>n.changeCoordinates&&n.changeCoordinates(...o))},null,544),[[v,i.yModel]]),g(a("input",{class:"numbers","onUpdate:modelValue":e[6]||(e[6]=o=>i.yModel=o),onChange:e[7]||(e[7]=(...o)=>n.changeCoordinates&&n.changeCoordinates(...o))},null,544),[[v,i.yModel]])]),a("div",me,[g(a("input",{type:"range",min:10,max:50,step:"2","onUpdate:modelValue":e[8]||(e[8]=o=>i.fontSizeModel=o),onChange:e[9]||(e[9]=(...o)=>n.changeCoordinates&&n.changeCoordinates(...o))},null,544),[[v,i.fontSizeModel]]),g(a("input",{class:"numbers","onUpdate:modelValue":e[10]||(e[10]=o=>i.fontSizeModel=o),onChange:e[11]||(e[11]=(...o)=>n.changeCoordinates&&n.changeCoordinates(...o))},null,544),[[v,i.fontSizeModel]])])])}const ue=_(re,[["render",he],["__scopeId","data-v-89fee6e1"]]);const pe={name:"generator",components:{DevRanger:ue,DropdownDescription:D,CustomDropdown:G,CustomButton:x,ButtonCircle:B,DropdownTextarea:ce,DropdownStickers:M},props:{fromwhomSelected:"fromman"},data(){return{canvasHeight:600,canvasWidth:600,canvasBG:null,ctxBG:null,canvasForWhom:null,ctxForWhom:null,canvasFromWhom:null,ctxFromWhom:null,canvasDescription:null,ctxDescription:null,canvasResult:null,ctxResult:null,canvasSticker:null,ctxSticker:null,currentSticker:0,currentTextFor:"",currentTextFrom:"",coordinates:{description:{x:0,y:0},fromwhom:{x:0,y:0},forwhom:{x:0,y:0},sticker:{x:0,y:0},fontSize:26},positions:{sticker:{0:{x:90,y:223},1:{x:116,y:119},2:{x:167,y:118},3:{x:142,y:57},4:{x:96,y:55},5:{x:281,y:70},6:{x:126,y:327},7:{x:69,y:325}},forwhom:{0:{x:208,y:504},1:{x:208,y:504},2:{x:208,y:504},3:{x:208,y:504},4:{x:208,y:504},5:{x:208,y:504},6:{x:126,y:504},7:{x:126,y:504}},fromwhom:{0:{x:208,y:370},1:{x:208,y:370},2:{x:208,y:370},3:{x:208,y:370},4:{x:208,y:370},5:{x:208,y:370},6:{x:126,y:370},7:{x:126,y:370}},description:{0:{x:208,y:370},1:{x:208,y:370},2:{x:208,y:370},3:{x:208,y:370},4:{x:208,y:370},5:{x:208,y:370},6:{x:126,y:370},7:{x:126,y:370}},textFontSize:26,descriptionFontSize:28},countBG:8,currentBG:this.rand(8),fromwhom:{fromman:[{name:"От профессионального@кофе-брейкера",id:0},{name:"От любителя@праздничных угощений",id:1},{name:"От надёжного,@как скала",id:2},{name:"От точного, как прогноз@погоды",id:3},{name:"От напарника в любом@деле",id:4},{name:"От соседа@по карусели",id:5},{name:"От свидетеля@сладкой ваты",id:6},{name:"От путешественника@в любую сторону",id:7},{name:"От весёлого@и находчивого",id:8}],fromwoman:[{name:"От непредсказуемой,@как американские горки",id:0},{name:"От королевы групповых@чатов",id:1},{name:"От обладательницы@мешка мемов и шуток",id:2},{name:"От надёжной@напарницы в любом@деле",id:3},{name:"От фанатки хорошего@настроения",id:4},{name:"От коллеги@по офисным шуткам",id:5},{name:"От большой@любительницы@открыток",id:6}]},forwhom:{fromwoman:[{name:"Чемпиону всех барных@игр мира",id:0},{name:"Укротителю@дедлайнов",id:1},{name:"Безудержному@оптимисту",id:2},{name:"Главному специалисту@по внезапному веселью",id:3},{name:"Знатоку смешных@историй",id:4},{name:"Генератору@ярких идей",id:5},{name:"Покорителю@финансовых вершин",id:6},{name:"Специалисту@по праздничной@атмосфере",id:7},{name:"Душе компании",id:8},{name:"Лучшему в мире@коллеге",id:9}],fromman:[{name:"Главной по@праздничной@атмосфере",id:0},{name:"Фее цветов и конфет",id:1},{name:"Вдохновительнице@на подвиги",id:2},{name:"Королеве сладостей",id:3},{name:"Генератору хорошего@настроения",id:4},{name:"Главной по улыбкам",id:5},{name:"Обладательнице@черного пояса по@креативности",id:6},{name:"Укротительнице@понедельников",id:7},{name:"Лучшей в мире коллеге",id:8}]},descriptionModel:"",descriptions:{fromman:[{name:"Ты лучше, чем праздничный фейерверк. Ведь ты не только светишь, но и согреваешь!"},{name:"Пусть мечты будут слаще, чем сладкая вата!"},{name:"Ты настоящий фейерверк!"},{name:"Ты раскачаешь любой праздник лучше, чем качели!"},{name:"Пусть каждый день будет словно в парке развлечений!"},{name:"Вытяни счастливый билетик, чтобы сбывались мечты!"},{name:"Пусть проблемы улетят на воздушных шариках!"},{name:"С тобой комната страха превращается в комнату смеха!"},{name:"Любой вопрос решается, если за дело берёшься ты лично!"},{name:"Ярких побед в любом деле!"},{name:"Головокружительного успеха во всём!"},{name:"Ныряй в приключения, будь на позитиве!"},{name:"Твоя энергия заряжает стадионы!"}],fromwoman:[{name:"С тобой интереснее, чем на самом большом колесе обозрения!"},{name:"Азарт – это твоё второе имя. Пусть тебе везет каждый день!"},{name:"Когда ты рядом, сложное становится простым!"},{name:"Твои идеи просто улет!"},{name:"С тобой не нужен билет в парк развлечений!"},{name:"Ты настоящий вулкан идей!"},{name:"Пусть мечты вдохновляют тебя и людей вокруг!"},{name:"Головокружительных успехов во всем!"},{name:"Пусть удача тебе улыбнётся!"},{name:"Мечтай по-крупному, выигрывай во всем!"},{name:"Главное, верить в себя!"},{name:"С тобой – хоть в комнату страха, хоть в комнату смеха!"}]},selectedForwhom:{name:"Для кого"},selectedFromwhom:{name:"От кого"}}},methods:{textPosition(s,e,t,r){this.coordinates[s].x=e,this.coordinates[s].y=t},editText(){},selectDescription(s){this.drawDescription(s)},nextBg(){this.shiftCurrentBG("next"),this.drawBg()},previousBg(){this.shiftCurrentBG("prev"),this.drawBg()},randomImage(){this.shiftCurrentBG("rand"),this.drawBg(),this.drawSticker("sticker-"+this.rand(13)),this.drawDescription(this.descriptions[this.fromwhomSelected][this.rand(this.descriptions[this.fromwhomSelected].length)].name),this.drawText(this.fromwhom[this.fromwhomSelected][this.rand(this.fromwhom[this.fromwhomSelected].length)].name,"from"),this.drawText(this.forwhom[this.fromwhomSelected][this.rand(this.forwhom[this.fromwhomSelected].length)].name,"for")},drawBg(){let s=this.ctxBG,e=document.getElementById("bg-"+this.currentBG);this.clearCtx(s),s.drawImage(e,0,0,this.canvasBG.width,this.canvasBG.height)},drawText(s,e="for"){let t,r,i,n,o,c;e=="for"?t=this.ctxFromWhom:t=this.ctxForWhom,r=Number(this.positions[e=="for"?"forwhom":"fromwhom"][this.currentBG].x),i=Number(this.positions[e=="for"?"forwhom":"fromwhom"][this.currentBG].y),n=this.positions.textFontSize,o=s.split("@"),c=this.getMaxLengText(o),this.clearCtx(t);const h=t.createLinearGradient(r+20,0,r+358,0);h.addColorStop(.04,"rgba(31, 91, 215, 0.29)"),h.addColorStop(.9,"rgba(253, 138, 166, 0.13)"),h.addColorStop(.6,"#1897F8"),t.beginPath(),t.roundRect(r-n-20,i-n-20,c*(n-8)+30,n*3+o.length*n/2,50),t.fillStyle=h,t.fill(),o.forEach(function(u,w){t.font="400 "+n+"px GT Eesti Pro Text",t.fillStyle="#ffffff";let p;p=u.length!=c?r+n*(c-u.length)/4:r+0,console.log(r),console.log(i),t.fillText(u,p,i+(n+3)*w)})},drawDescription(s=""){let e,t,r,i,n,o;e=this.ctxDescription,this.clearCtx(e),t=Number(this.positions.description[this.currentBG].x),r=Number(this.positions.description[this.currentBG].y),i=this.positions.textFontSize,n=s.split("@"),o=this.getMaxLengText(n);const c=e.createLinearGradient(t+20,0,t+358,0);c.addColorStop(1,"rgba(109, 192, 255, 0.28)"),c.addColorStop(.29,"#1F5BD7"),e.beginPath(),e.roundRect(t-i-20,r-i-20,o*(i-8)+30,i*3+n.length*i/2,50),e.fillStyle=c,e.fill(),n.forEach(function(h,u){e.font="400 "+i+"px GT Eesti Pro Text",e.fillStyle="#ffffff";let w;w=h.length!=o?t+i*(o-h.length)/4:t+0,console.log(t),console.log(r),e.fillText(h,w,r+(i+3)*u)}),e.font="400 3.354vw GT Eesti Pro Text",e.fillStyle="#000000",e.fillText(s,40,120)},getMaxLengText(s){let e=0;return s.forEach(function(t){e=e<t.length?t.length:e}),e},drawSticker(s){let e=this.ctxSticker;this.clearCtx(e);let t=document.getElementById(s);e.drawImage(t,this.positions.sticker[this.currentBG].x,this.positions.sticker[this.currentBG].y,290,290)},shiftCurrentBG(s="next"){let e=this.currentBG;!s||s=="next"?e>=this.countBG-1?e=0:e++:s=="rand"?e=this.rand(this.countBG-1):e<=0?e=this.countBG-1:e--,this.currentBG=e},mergeLayers(){let s=this.ctxResult;this.clearCtx(s),s.drawImage(this.canvasBG,0,0,this.canvasWidth,this.canvasHeight),s.drawImage(this.canvasSticker,0,0,this.canvasWidth,this.canvasHeight),s.drawImage(this.canvasForWhom,0,0,this.canvasWidth,this.canvasHeight),s.drawImage(this.canvasFromWhom,0,0,this.canvasWidth,this.canvasHeight),s.drawImage(this.canvasDescription,0,0,this.canvasWidth,this.canvasHeight)},rand(s){return Math.floor(Math.floor(Math.random()*s))},clearCtx(s){s.clearRect(0,0,this.canvasHeight,this.canvasWidth)},clearDescription(){this.clearCtx(this.ctxDescription)},clearSticker(){this.clearCtx(this.ctxSticker)},clearForwhom(){this.clearCtx(this.ctxForWhom)},clearFromwhom(){this.clearCtx(this.ctxFromWhom)},nextPage(){this.mergeLayers(),this.$emit("updatePage","finish")},clearLayers(){this.clearSticker(),this.clearDescription(),this.clearForwhom(),this.clearFromwhom()}},mounted(){this.canvasBG=document.getElementById("img-background"),this.ctxBG=this.canvasBG.getContext("2d"),this.canvasFromWhom=document.getElementById("img-fromwhom"),this.ctxFromWhom=this.canvasFromWhom.getContext("2d"),this.canvasForWhom=document.getElementById("img-forwhom"),this.ctxForWhom=this.canvasForWhom.getContext("2d"),this.canvasDescription=document.getElementById("img-description"),this.ctxDescription=this.canvasDescription.getContext("2d"),this.canvasResult=document.getElementById("img-result"),this.ctxResult=this.canvasResult.getContext("2d"),this.canvasSticker=document.getElementById("img-sticker"),this.ctxSticker=this.canvasSticker.getContext("2d")}},_e=s=>(z("data-v-8fb8a9a3"),s=s(),I(),s),xe={class:"content-generator"},ge={class:"content-generator__wrapper"},ve={class:"generator-content"},fe={class:"generator-content__left"},we=_e(()=>a("div",{class:"text__select-bg"}," Выберите фон ",-1)),ye={class:"canvas-wrapper"},Ce=F('<canvas class="canvas-layer" style="z-index:1;" id="img-background" height="600" width="600" data-v-8fb8a9a3>Ваш браузер не поддерживает это приложение. Обновитесь или скачайте другой браузер </canvas><canvas class="canvas-layer" style="z-index:2;" id="img-sticker" height="600" width="600" data-v-8fb8a9a3></canvas><canvas class="canvas-layer" style="z-index:3;" id="img-description" height="600" width="600" data-v-8fb8a9a3></canvas><canvas class="canvas-layer" style="z-index:4;" id="img-fromwhom" height="600" width="600" data-v-8fb8a9a3></canvas><canvas class="canvas-layer" style="z-index:5;" id="img-forwhom" height="600" width="600" data-v-8fb8a9a3></canvas>',5),ke={class:"control-panel"},Se={style:{display:"none"}},be=["id","src","alt"],Be={class:"generator-content__right"},De={class:"description"},Me={class:"description"},Te={class:"zi-200"},Ge={class:"zi-100"};function Oe(s,e,t,r,i,n){const o=B,c=D,h=M,u=G,w=x;return l(),d("div",xe,[a("div",ge,[a("div",ve,[a("div",fe,[we,a("div",ye,[Ce,a("div",{style:{"min-height":"3vw","min-width":"3vw"},onDblclick:e[0]||(e[0]=p=>n.editText())},null,32)]),a("div",ke,[m(o,{icon:"prev",onClick:n.previousBg},null,8,["onClick"]),m(o,{icon:"rand",onClick:n.randomImage,style:{"margin-top":"2.1vw"}},null,8,["onClick"]),m(o,{icon:"next",onClick:n.nextBg},null,8,["onClick"])]),a("div",Se,[(l(!0),d(f,null,k(this.countBG,p=>(l(),d("img",{id:"bg-"+(p-1),src:"/backgrounds/background-"+(p-1)+".png",alt:"/background/background-"+(p-1)+".png"},null,8,be))),256))])]),a("div",Be,[a("div",De,[m(c,{text:"Добавить текст",onClearDescription:n.clearDescription,onSelectDescription:n.selectDescription,options:i.descriptions[t.fromwhomSelected],closeOnOutsideClick:!0},null,8,["onClearDescription","onSelectDescription","options"])]),a("div",Me,[m(h,{text:"Выбрать наклейку",onClearSticker:n.clearSticker,onDrawSticker:n.drawSticker},null,8,["onClearSticker","onDrawSticker"])]),a("div",null,[a("div",Te,[m(u,{onDrawText:n.drawText,options:i.forwhom[t.fromwhomSelected],selected:"Кому",placeholder:"Кому",who:"for",closeOnOutsideClick:!0},null,8,["onDrawText","options"])]),a("div",Ge,[m(u,{onDrawText:n.drawText,options:i.fromwhom[t.fromwhomSelected],selected:"От кого",placeholder:"От кого",who:"from",closeOnOutsideClick:!0},null,8,["onDrawText","options"])]),m(w,{text:"Создать открытку",classes:"create",onClick:e[1]||(e[1]=p=>n.nextPage())})])])])])])}const Ie=_(pe,[["render",Oe],["__scopeId","data-v-8fb8a9a3"]]);export{Ie as default};
